!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.scrollDir=e()}(this,function(){"use strict";var f,u,a="data-scrolldir",d="down",s=document.documentElement,l=window,c=document.body,m=32,p=512,h=64,b=Array(m),v=0;function e(){var t=l.scrollY||l.pageYOffset,e=f.timeStamp,n="down"===d?Math.max:Math.min,r=c.scrollHeight-l.innerHeight;if(t=Math.max(0,t),t=Math.min(r,t),b.unshift({y:t,t:e}),b.pop(),t===n(u,t))return v=e,void(u=t);var i=e-p;if(v<i){u=t;for(var o=0;o<m&&(b[o]&&!(b[o].t<i));o+=1)u=n(u,b[o].y)}Math.abs(t-u)>h&&(u=t,v=e,d="down"===d?"up":"down",s.setAttribute(a,d))}function n(t){return f=t,l.requestAnimationFrame(e)}return function(t){return t&&(t.attribute&&(a=t.attribute),t.el&&(s=t.el),t.win&&(l=t.win),t.dir&&(d=t.dir),!0===t.off)?(s.setAttribute(a,"off"),l.removeEventListener("scroll",n)):(u=l.scrollY||l.pageYOffset,s.setAttribute(a,d),l.addEventListener("scroll",n))}});

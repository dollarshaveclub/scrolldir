!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var a,f,t,d="data-scrolldir",u="down",s=document.documentElement,c=window,l=document.body,m=32,p=512,b=64,h=Array(m),v=0;function e(){var t=c.scrollY||c.pageYOffset,e=a.timeStamp,n="down"===u?Math.max:Math.min,i=l.scrollHeight-c.innerHeight;if(t=Math.max(0,t),t=Math.min(i,t),h.unshift({y:t,t:e}),h.pop(),t===n(f,t))return v=e,void(f=t);var o=e-p;if(v<o){f=t;for(var r=0;r<m&&(h[r]&&!(h[r].t<o));r+=1)f=n(f,h[r].y)}Math.abs(t-f)>b&&(f=t,v=e,u="down"===u?"up":"down",s.setAttribute(d,u))}function n(t){return a=t,c.requestAnimationFrame(e)}t&&(t.attribute&&(d=t.attribute),t.el&&(s=t.el),t.win&&(c=t.win),t.dir&&(u=t.dir),!0===t.off)?(s.setAttribute(d,"off"),c.removeEventListener("scroll",n)):(f=c.scrollY||c.pageYOffset,s.setAttribute(d,u),c.addEventListener("scroll",n))});
